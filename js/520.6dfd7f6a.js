"use strict";(globalThis["webpackChunk_yeosu"]=globalThis["webpackChunk_yeosu"]||[]).push([[520],{520:(e,l,t)=>{t.r(l),t.d(l,{default:()=>S});var a=t(2444),s=t(5836),u=t(4044),n=t(8628),o=t(8272),i=t(9276),r=t(7580),d=t(3132),c=t(7936),v=t(1388),m=t(1416);const _=(0,a._M)({__name:"DirectionInfo",props:{directionText:{type:String,required:!0},bgColor:{type:String,required:!1}},setup(e){return(l,t)=>((0,a.Wz)(),(0,a.An)("div",{style:(0,u.MN)({backgroundColor:e.bgColor,padding:"10px",borderRadius:"5px",color:"white",fontWeight:"bold"})},(0,u.WA)(e.directionText),5))}}),p=_,g=p,f={class:"q-mb-md"},y={class:"q-mt-lg text-caption"},b={key:0,class:"q-mt-lg text-caption"},h=(0,a.QD)("span",{class:"text-caption"},"예약인원",-1),Q={class:"flex no-wrap full-width q-mt-xl"},C=(0,a._M)({__name:"IndexPage",setup(e){const l=(0,m.c)(),t=(0,v._w)(),_=(0,c.KX)(),p=(0,s.IL)(null),C=(0,s.IL)(1),k=(0,s.IL)(!1),x=(0,s.IL)(null),K=(0,s.IL)([]),A=new Date,W=e=>e>=10?e:`0${e}`,w=A.getFullYear(),q=W(A.getMonth()+1),z=W(A.getDate()),I=w+"-"+q+"-"+z;(0,a.Kg)(x,(e=>{null!==e&&("휴항"===e.status?(x.value=null,l.notify({message:"해당편은 휴항입니다",icon:"sentiment_very_dissatisfied",position:"top",timeout:1500})):e.al_rsv_num-e.rsv_num===0&&(x.value=null,l.notify({message:"해당편은 매진입니다",icon:"sentiment_very_dissatisfied",position:"top",color:"negative",timeout:1500})))})),(0,a.Kg)(C,(e=>{x.value&&(x.value.al_rsv_num-x.value.rsv_num===0?C.value=0:x.value&&e>x.value.al_rsv_num-x.value.rsv_num?(C.value=x.value.al_rsv_num-x.value.rsv_num,l.notify({message:`해당편의 현재 최대 예약인원은 ${x.value.al_rsv_num-x.value.rsv_num}명 입니다`,icon:"sentiment_very_dissatisfied",position:"top",timeout:1500})):e<1&&(C.value=1,l.notify({message:"최소 예약인원은 1명입니다",icon:"sentiment_very_dissatisfied",position:"top",timeout:1500})))}));const L=()=>{p.value&&x.value&&C.value&&k.value&&(t.operDate=p.value,t.operTime=x.value.hhmm,t.custCnt=C.value,t.ticketPrice=x.value.price,t.tm_no=x.value.tm_no,t.rv_cd=x.value.rv_cd),console.log("bkdSchdInfo:",t),_.push("/book/regCustInfo")},S=(0,s.IL)({plugins:[o.c,i.cp],initialView:"dayGridMonth",showNonCurrentDates:!1,datesSet:e=>{if(e){let e=document.querySelector("td[data-date='"+p.value+"']");e&&e.classList.add("selected-day")}},dateClick:e=>{C.value=1,x.value=null;const l=S.value.events.filter((l=>e.dateStr===l.date&&"background"!=l.display));K.value=l;let t=document.getElementsByClassName("fc-day"),a=e.dayEl;Array.from(t).forEach((e=>{e.classList.remove("selected-day")})),a&&(e.dateStr===p.value?(p.value=null,a.classList.remove("selected-day")):(p.value=e.dateStr,a.classList.add("selected-day")))},events:[{date:I,tm_no:1,title:"10:00-0",color:"#A5C9FF",status:"운항",statusClass:"text-green",al_rsv_num:"10",rsv_num:"0",hhmm:"10:00",rv_cd:"02",price:"6000",wy_nm:"낭도->추도"},{date:I,tm_no:2,title:"10:30-0",color:"#0C70F2",status:"운항",statusClass:"text-green",al_rsv_num:"10",rsv_num:"0",hhmm:"10:30",rv_cd:"01",price:"6000",wy_nm:"추도->낭도"},{date:I,tm_no:3,title:"11:00-매진",color:"#e5556a",status:"매진",statusClass:"text-red",al_rsv_num:"10",rsv_num:"10",hhmm:"11:00",rv_cd:"02",price:"6000",wy_nm:"낭도->추도"},{date:I,tm_no:4,title:"11:30-휴항",color:"#666",status:"휴항",statusClass:"text-grey-6",al_rsv_num:"10",rsv_num:"0",hhmm:"11:30",rv_cd:"01",price:"6000",wy_nm:"추도->낭도"},{date:I,display:"background",color:"#daf5da"}],locale:"ko"});return(e,l)=>{const t=(0,a.E1)("q-item-section"),o=(0,a.E1)("q-item"),i=(0,a.E1)("q-list"),c=(0,a.E1)("q-btn"),v=(0,a.E1)("q-input"),m=(0,a.E1)("q-checkbox"),_=(0,a.iS)("ripple");return(0,a.Wz)(),(0,a.An)(a.ae,null,[(0,a.QD)("div",f,[(0,a.K2)(g,{directionText:"낭도 -> 추도",bgColor:"#A5C9FF"}),(0,a.K2)(g,{directionText:"추도 -> 낭도",bgColor:"#0C70F2"})]),(0,a.K2)((0,s.KV)(n.c),{options:S.value},null,8,["options"]),(0,a.QD)("div",y,[p.value&&K.value.length>0?((0,a.Wz)(),(0,a.Az)(i,{key:0,bordered:"",separator:""},{default:(0,a.Ql)((()=>[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(K.value,((e,l)=>(0,a.wt)(((0,a.Wz)(),(0,a.Az)(o,{clickable:"","active-class":"bg-blue-1",active:null!=x.value&&x.value.tm_no===e.tm_no,onClick:l=>x.value=e,key:l},{default:(0,a.Ql)((()=>[(0,a.K2)(t,{side:"",class:(0,u.WN)([`${e.statusClass}`,"q-mr-none"])},{default:(0,a.Ql)((()=>[(0,a.mY)((0,u.WA)(e.status),1)])),_:2},1032,["class"]),(0,a.K2)(t,{class:"q-ml-none"},{default:(0,a.Ql)((()=>[(0,a.mY)((0,u.WA)(e.wy_nm),1)])),_:2},1024),(0,a.K2)(t,null,{default:(0,a.Ql)((()=>[(0,a.mY)((0,u.WA)(e.hhmm),1)])),_:2},1024),(0,a.K2)(t,null,{default:(0,a.Ql)((()=>[(0,a.mY)((0,u.WA)(e.rsv_num)+"명/"+(0,u.WA)(e.al_rsv_num)+"명",1)])),_:2},1024),(0,a.K2)(t,{side:""},{default:(0,a.Ql)((()=>[(0,a.mY)((0,u.WA)(parseInt(e.price).toLocaleString())+" 원",1)])),_:2},1024)])),_:2},1032,["active","onClick"])),[[_]]))),128))])),_:1})):p.value&&0===K.value.length?((0,a.Wz)(),(0,a.Az)(i,{key:1,bordered:"",separator:""},{default:(0,a.Ql)((()=>[(0,a.K2)(o,null,{default:(0,a.Ql)((()=>[(0,a.K2)(t,{class:"text-center"},{default:(0,a.Ql)((()=>[(0,a.K2)(d.c,{message:"해당 날짜에 등록된 운항이 없습니다."})])),_:1})])),_:1})])),_:1})):((0,a.Wz)(),(0,a.Az)(i,{key:2,bordered:"",separator:""},{default:(0,a.Ql)((()=>[(0,a.K2)(o,null,{default:(0,a.Ql)((()=>[(0,a.K2)(t,{class:"text-grey-6 text-center"},{default:(0,a.Ql)((()=>[(0,a.mY)("날짜를 선택해주세요.")])),_:1})])),_:1})])),_:1}))]),p.value&&x.value?((0,a.Wz)(),(0,a.An)("div",b,[(0,a.K2)(v,{type:"number",modelValue:C.value,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value=e),modelModifiers:{number:!0}},{prepend:(0,a.Ql)((()=>[h])),append:(0,a.Ql)((()=>[(0,a.K2)(c,{flat:"",class:(0,u.WN)(["bg-blue-grey-6 text-white",{disabled:1===C.value}]),onClick:l[0]||(l[0]=e=>C.value--)},{default:(0,a.Ql)((()=>[(0,a.mY)("−")])),_:1},8,["class"]),(0,a.K2)(c,{flat:"",class:(0,u.WN)(["bg-blue-grey-6 text-white",{disabled:x.value&&C.value===x.value.al_rsv_num-x.value.rsv_num}]),onClick:l[1]||(l[1]=e=>C.value++)},{default:(0,a.Ql)((()=>[(0,a.mY)("+")])),_:1},8,["class"])])),_:1},8,["modelValue"]),(0,a.QD)("div",Q,[(0,a.K2)(m,{size:"md",modelValue:k.value,"onUpdate:modelValue":l[3]||(l[3]=e=>k.value=e),val:"prvPlcAgr",label:"[필수] 개인정보 수집 및 이용 동의"},null,8,["modelValue"]),(0,a.K2)(c,{flat:"",size:"sm",class:"q-ml-auto bg-blue-grey-6 text-white"},{default:(0,a.Ql)((()=>[(0,a.mY)("전문보기")])),_:1})]),(0,a.K2)(r.c,{class:"q-mt-lg",title:"예약하기",disabled:!p.value||!x.value||!k.value,onClick:L},null,8,["disabled"])])):(0,a.g1)("",!0)],64)}}});var k=t(9588),x=t(4884),K=t(1032),A=t(540),W=t(4104),w=t(8488),q=t(4165),z=t(5252),I=t.n(z);const L=C,S=L;I()(C,"components",{QList:k.c,QItem:x.c,QItemSection:K.c,QInput:A.c,QBtn:W.c,QCheckbox:w.c}),I()(C,"directives",{Ripple:q.c})}}]);